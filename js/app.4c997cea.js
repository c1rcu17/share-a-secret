webpackJsonp([1],{0:function(t,e){},1:function(t,e,s){t.exports=s("NHnr")},G3BA:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("/5sW"),r=s("/ocq"),n=(s("EuXz"),{name:"Errors",props:{errors:Array}}),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",t._l(t.errors,function(e){return s("li",[t._v(t._s(e))])}))},l=[],o=s("XyMi"),c=!1,u=null,d=null,m=null,p=Object(o["a"])(n,i,l,c,u,d,m),v=p.exports,f=s("QxPg"),h=s("N3XP"),y=s.n(h),b=s("nCDS"),C=s.n(b),g=s("iK9v"),_=s.n(g),k=s("Li6P"),x=s.n(k),E=s("F4Gy"),w=s.n(E),$=s("7vl2"),R=s.n($),S=s("3pTt"),N=s.n(S),O=s("+tGi"),P=s.n(O),I=s("aHro"),M=s.n(I);f["a"].config.keepOriginalSource=!1,f["a"].library.add(y.a,C.a,_.a,x.a,w.a,R.a,N.a,P.a,M.a);var j={props:{family:{type:String,default:"fas"},fa:String},computed:{icon:function(){return'<i class="'.concat(this.family," fa-").concat(this.fa,'"></i>')}}},L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon",domProps:{innerHTML:t._s(t.icon)}})},A=[],B=!1,T=null,D=null,G=null,H=Object(o["a"])(j,L,A,B,T,D,G),V=H.exports,q=s("G84C"),J=s.n(q),U={props:{entry:Object},methods:{generate:function(){this.entry.value=J.a.generate({length:10,numbers:!0,symbols:!0,uppercase:!0,excludeSimilarCharacters:!0,exclude:'^~@{}[]"`',strict:!0})}},components:{Icon:V}},X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-one-third"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.label,expression:"entry.label"}],staticClass:"input",attrs:{type:"text",placeholder:"Label"},domProps:{value:t.entry.label},on:{input:function(e){e.target.composing||t.$set(t.entry,"label",e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"font"}})],1)])]),s("div",{staticClass:"column is-two-fifths"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control has-icons-left"},["checkbox"===(t.entry.hidden?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.value,expression:"entry.value"}],staticClass:"input",attrs:{placeholder:"Value",type:"checkbox"},domProps:{checked:Array.isArray(t.entry.value)?t._i(t.entry.value,null)>-1:t.entry.value},on:{change:function(e){var s=t.entry.value,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=null,i=t._i(s,n);a.checked?i<0&&t.$set(t.entry,"value",s.concat([n])):i>-1&&t.$set(t.entry,"value",s.slice(0,i).concat(s.slice(i+1)))}else t.$set(t.entry,"value",r)}}}):"radio"===(t.entry.hidden?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.value,expression:"entry.value"}],staticClass:"input",attrs:{placeholder:"Value",type:"radio"},domProps:{checked:t._q(t.entry.value,null)},on:{change:function(e){t.$set(t.entry,"value",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.value,expression:"entry.value"}],staticClass:"input",attrs:{placeholder:"Value",type:t.entry.hidden?"password":"text"},domProps:{value:t.entry.value},on:{input:function(e){e.target.composing||t.$set(t.entry,"value",e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"font"}})],1)])]),s("div",{staticClass:"column"},[s("div",{staticClass:"buttons is-grouped is-right"},[s("a",{staticClass:"button is-outlined",attrs:{tabindex:"-1"},on:{click:t.generate}},[s("icon",{attrs:{fa:"cogs"}})],1),s("a",{staticClass:"button is-outlined is-info",attrs:{tabindex:"-1"},on:{click:function(e){t.entry.hidden=!t.entry.hidden}}},[s("icon",{attrs:{fa:t.entry.hidden?"eye-slash":"eye"}})],1),s("a",{staticClass:"button is-outlined is-danger",attrs:{tabindex:"-1"},on:{click:function(e){t.$emit("remove")}}},[s("icon",{attrs:{fa:"minus"}})],1),s("a",{staticClass:"button is-outlined is-success",attrs:{tabindex:"-1"},on:{click:function(e){t.$emit("add")}}},[s("icon",{attrs:{fa:"plus"}})],1)])])])},z=[],Q=!1,W=null,F=null,K=null,Y=Object(o["a"])(U,X,z,Q,W,F,K),Z=Y.exports,tt=s("dl4G"),et=s.n(tt),st=s("4ygL"),at=s.n(st),rt=s("JPrc"),nt=s.n(rt),it=s("U8O8"),lt=s.n(it),ot=(s("JXnT"),s("seLl")),ct=s.n(ot),ut=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},dt=function(t,e){var s=32,a=et.a.getBytesSync(32),r=ut(16e3,64e3),n=at()(t,a,r,s),i=et.a.getBytesSync(s),l=nt.a.createCipher("AES-CBC",n);l.start({iv:i}),l.update(lt.a.createBuffer(e)),l.finish();var o=l.output.getBytes();return{ciphertext:ct.a.encode(o+i),salt:ct.a.encode(a),iterations:r}},mt=function(t,e,s,a){var r=32,n=ct.a.decode(s),i=ct.a.decode(e),l=i.substring(i.length-r),o=i.substring(0,i.length-r),c=at()(t,n,a,r),u=nt.a.createDecipher("AES-CBC",c);u.start({iv:l}),u.update(lt.a.createBuffer(o)),u.finish();var d=u.output.toString();return d},pt={data:function(){return{name:"",master:"",masterRepeat:"",entries:[{label:"User",value:"",hidden:!1},{label:"Pass",value:"",hidden:!0}],link:{}}},computed:{nameErrors:function(){var t=[];return this.name.length<1&&t.push("Minimum of 1 character"),t},masterErrors:function(){var t=[];return this.master.length<4&&t.push("Minimum of 4 characters"),t},masterRepeatErrors:function(){var t=[];return this.masterRepeat.length<4&&t.push("Minimum of 4 characters"),this.master!==this.masterRepeat&&t.push("Passwords do not match"),t},errors:function(){var t=this;return["nameErrors","masterErrors","masterRepeatErrors"].some(function(e){return t[e].length})}},methods:{remove:function(t){this.entries.splice(t,1)},add:function(t){this.entries.splice(t,0,{label:"",value:"",hidden:!1})},create:function(){if(this.errors)this.link={};else{var t=this.entries.map(function(t){return{l:t.label,v:t.value,h:t.hidden}});this.link=dt(this.master,JSON.stringify(t))}}},components:{Errors:v,Icon:V,CreateRow:Z}},vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"section"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("Create 'a' Secret")]),s("form",[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"name"}},[t._v("Name")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input",class:{"is-danger":t.nameErrors.length},attrs:{id:"name",type:"text",placeholder:"Secret name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"font"}})],1),t.nameErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.nameErrors}})],1):t._e()]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"master"}},[t._v("Master password")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.master,expression:"master"}],staticClass:"input",class:{"is-danger":t.masterErrors.length},attrs:{id:"master",type:"password",placeholder:"Master password"},domProps:{value:t.master},on:{input:function(e){e.target.composing||(t.master=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"key"}})],1),t.masterErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.masterErrors}})],1):t._e()])]),s("div",{staticClass:"column"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"masterRepeat"}},[t._v("Repeat")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.masterRepeat,expression:"masterRepeat"}],staticClass:"input",class:{"is-danger":t.masterRepeatErrors.length},attrs:{id:"masterRepeat",type:"password",placeholder:"Repeat master password"},domProps:{value:t.masterRepeat},on:{input:function(e){e.target.composing||(t.masterRepeat=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"key"}})],1),t.masterRepeatErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.masterRepeatErrors}})],1):t._e()])])]),s("div",{staticClass:"columns"},[t._m(0),t._m(1),s("div",{staticClass:"column"},[s("div",{staticClass:"buttons is-right"},[s("a",{staticClass:"button is-outlined is-success",attrs:{tabindex:"-1"},on:{click:function(e){t.add(0)}}},[s("icon",{attrs:{fa:"plus"}})],1)])])]),t._l(t.entries,function(e,a){return s("create-row",{key:a,attrs:{entry:e},on:{add:function(e){t.add(a+1)},remove:function(e){t.remove(a)}}})}),s("div",{staticClass:"buttons"},[s("button",{staticClass:"button is-primary",attrs:{disabled:t.errors},on:{click:function(e){return e.preventDefault(),t.create(e)}}},[t._v("Create")])]),3===Object.keys(t.link).length?s("div",[s("div",{staticClass:"has-text-weight-semibold"},[t._v("Your secret is here, you can drag it to your bookmarks")]),s("div",[s("router-link",{staticClass:"is-size-4",attrs:{to:{name:"unlock",params:t.link}}},[t._v(t._s(t.name))])],1)]):t._e()],2)])])},ft=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-one-third has-text-bottom"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Label")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-two-fifths has-text-bottom"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Value")])])])}];function ht(t){s("ny60")}var yt=!1,bt=ht,Ct="data-v-4b20f690",gt=null,_t=Object(o["a"])(pt,vt,ft,yt,bt,Ct,gt),kt=_t.exports,xt=s("TQvf"),Et=s.n(xt),wt={data:function(){return{current:0,interval:null}},props:{max:{type:Number,required:!0},start:{type:Number,required:!0},rate:{type:Number,default:100}},methods:{clearInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){this.interval&&(clearInterval(this.interval),this.interval=null)}),startTimer:function(){var t=this;this.clearInterval(),this.current=this.start,this.interval=setInterval(function(){t.current<=0?(t.clearInterval(),t.$emit("ended")):t.current-=t.rate},this.rate)}},mounted:function(){this.startTimer()},beforeDestroy:function(){this.clearInterval()}},$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("progress",{attrs:{max:t.max},domProps:{value:t.current}})},Rt=[],St=!1,Nt=null,Ot=null,Pt=null,It=Object(o["a"])(wt,$t,Rt,St,Nt,Ot,Pt),Mt=It.exports,jt={props:{entry:{type:Object,required:!0}},computed:{representation:function(){return this.entry.hidden?"••••••••":this.entry.value},isHttp:function(){return/^(https?):\/\//.test(this.entry.value)}},components:{Icon:V}},Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v(t._s(t.entry.label))]),s("td",[t.isHttp?s("a",{attrs:{href:t.entry.value,target:"_blank"}},[t._v(t._s(t.representation))]):s("span",[t._v(t._s(t.representation))])]),s("td",[s("a",{staticClass:"button is-outlined is-small copyable",attrs:{"data-clipboard-text":t.entry.value}},[s("icon",{attrs:{fa:"copy"}})],1)])])},At=[],Bt=!1,Tt=null,Dt=null,Gt=null,Ht=Object(o["a"])(jt,Lt,At,Bt,Tt,Dt,Gt),Vt=Ht.exports,qt={data:function(){return{master:"",isLocked:!0,isInvalid:!1,entries:[],clipboard:null}},computed:{masterErrors:function(){var t=[];return this.master.length<4&&t.push("Minimum of 4 characters"),this.isInvalid&&t.push("Wrong password"),t},errors:function(){var t=this;return["masterErrors"].some(function(e){return t[e].length})}},methods:{unlock:function(){if(!this.errors){var t=this.$route.params,e=t.ciphertext,s=t.salt,a=t.iterations;try{var r=mt(this.master,e,s,a);this.entries=JSON.parse(r).map(function(t){return{label:t.l,value:t.v,hidden:t.h}})}catch(t){return void(this.isInvalid=!0)}this.isLocked=!1}},lock:function(){this.master="",this.isLocked=!0,this.entries=[]},restart:function(){this.$refs.timer.startTimer()}},mounted:function(){this.clipboard=new Et.a(".copyable")},beforeDestroy:function(){this.clipboard.destroy()},components:{Errors:v,Icon:V,Timer:Mt,ViewRow:Vt}},Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"section"},[t.isLocked?s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("Unlock 'a' Secret")]),s("form",[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"master"}},[t._v("Master password")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.master,expression:"master"}],staticClass:"input",class:{"is-danger":t.masterErrors.length},attrs:{id:"master",type:"password",placeholder:"Master password",autofocus:""},domProps:{value:t.master},on:{focus:function(e){t.isInvalid=!1},input:function(e){e.target.composing||(t.master=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"key"}})],1),t.masterErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.masterErrors}})],1):t._e()]),s("div",{staticClass:"buttons"},[s("button",{staticClass:"button is-primary",attrs:{disabled:t.errors},on:{click:function(e){return e.preventDefault(),t.unlock(e)}}},[s("icon",{staticClass:"is-left",attrs:{fa:"lock"}}),s("span",[t._v("Unlock")])],1)])])]):s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("View 'a' Secret")]),s("timer",{ref:"timer",staticClass:"progress is-large",attrs:{max:2e4,start:2e4},on:{ended:t.lock},nativeOn:{click:function(e){return t.restart(e)}}}),s("table",{staticClass:"table is-bordered is-striped"},[s("tbody",t._l(t.entries,function(t,e){return s("view-row",{key:e,attrs:{entry:t}})}))])],1)])},Ut=[],Xt=!1,zt=null,Qt=null,Wt=null,Ft=Object(o["a"])(qt,Jt,Ut,Xt,zt,Qt,Wt),Kt=Ft.exports;a["a"].use(r["a"]);var Yt=new r["a"]({routes:[{path:"/",name:"create",component:kt},{path:"/unlock/:ciphertext/:salt/:iterations",name:"unlock",component:Kt}]}),Zt=Yt,te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-view")},ee=[];function se(t){s("G3BA")}var ae=null,re=!1,ne=se,ie=null,le=null,oe=Object(o["a"])(ae,te,ee,re,ne,ie,le),ce=oe.exports;a["a"].config.productionTip=!0,new a["a"]({router:Zt,render:function(t){return t(ce)}}).$mount("#app")},ny60:function(t,e){}},[1]);