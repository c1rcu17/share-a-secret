webpackJsonp([1],{"/WcT":function(t,e){},0:function(t,e){},1:function(t,e,s){t.exports=s("NHnr")},G3BA:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("/5sW"),r=s("/ocq"),n=(s("EuXz"),{name:"Errors",props:{errors:{type:Array,required:!0}}}),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",t._l(t.errors,function(e){return s("li",[t._v(t._s(e))])}))},l=[],o=s("XyMi"),c=!1,u=null,d=null,m=null,p=Object(o["a"])(n,i,l,c,u,d,m),v=p.exports,f=s("QxPg"),h=s("N3XP"),C=s.n(h),y=s("nCDS"),b=s.n(y),g=s("iK9v"),_=s.n(g),k=s("Li6P"),x=s.n(k),E=s("F4Gy"),w=s.n(E),$=s("7vl2"),O=s.n($),S=s("3pTt"),R=s.n(S),N=s("+tGi"),P=s.n(N),B=s("aHro"),I=s.n(B);f["a"].config.keepOriginalSource=!1,f["a"].library.add(C.a,b.a,_.a,x.a,w.a,O.a,R.a,P.a,I.a);var M={props:{family:{type:String,default:"fas"},fa:{type:String,required:!0}},computed:{icon:function(){return'<i class="'.concat(this.family," fa-").concat(this.fa,'"></i>')}}},j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon",domProps:{innerHTML:t._s(t.icon)}})},T=[],L=!1,A=null,D=null,q=null,G=Object(o["a"])(M,j,T,L,A,D,q),H=G.exports,V={props:{isDialog:{type:Boolean,default:!0},closeOnClickOutside:{type:Boolean,default:!1},showCloseButton:{type:Boolean,default:!0}},data:function(){return{opened:!1}},methods:{open:function(){this.opened=!0},close:function(){this.opened=!1},onClickOutside:function(){this.closeOnClickOutside&&this.close()}}},J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal",class:{"is-active":this.opened}},[s("div",{staticClass:"modal-background",on:{click:t.onClickOutside}}),t.isDialog?s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[t._t("head"),t.showCloseButton?s("button",{staticClass:"delete",on:{click:t.close}}):t._e()],2),t.$slots.default?s("section",{staticClass:"modal-card-body"},[t._t("default")],2):t._e(),t.$slots.foot?s("footer",{staticClass:"modal-card-foot"},[t._t("foot")],2):t._e()]):[s("div",{staticClass:"modal-content"},[t._t("default")],2),t.showCloseButton?s("button",{staticClass:"modal-close is-large",on:{click:t.close}}):t._e()]],2)},U=[],W=!1,X=null,Q=null,Y=null,z=Object(o["a"])(V,J,U,W,X,Q,Y),F=z.exports,K=s("G84C"),Z=s.n(K),tt={components:{Icon:H},props:{entry:{type:Object,required:!0}},methods:{generate:function(){this.entry.value=Z.a.generate({length:10,numbers:!0,symbols:!0,uppercase:!0,excludeSimilarCharacters:!0,exclude:'^~@{}[]"`',strict:!0})}}},et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-one-third"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.label,expression:"entry.label"}],staticClass:"input",attrs:{type:"text",placeholder:"Label"},domProps:{value:t.entry.label},on:{input:function(e){e.target.composing||t.$set(t.entry,"label",e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"font"}})],1)])]),s("div",{staticClass:"column is-two-fifths"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control has-icons-left"},["checkbox"===(t.entry.hidden?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.value,expression:"entry.value"}],staticClass:"input",attrs:{placeholder:"Value",type:"checkbox"},domProps:{checked:Array.isArray(t.entry.value)?t._i(t.entry.value,null)>-1:t.entry.value},on:{change:function(e){var s=t.entry.value,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=null,i=t._i(s,n);a.checked?i<0&&t.$set(t.entry,"value",s.concat([n])):i>-1&&t.$set(t.entry,"value",s.slice(0,i).concat(s.slice(i+1)))}else t.$set(t.entry,"value",r)}}}):"radio"===(t.entry.hidden?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.value,expression:"entry.value"}],staticClass:"input",attrs:{placeholder:"Value",type:"radio"},domProps:{checked:t._q(t.entry.value,null)},on:{change:function(e){t.$set(t.entry,"value",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.value,expression:"entry.value"}],staticClass:"input",attrs:{placeholder:"Value",type:t.entry.hidden?"password":"text"},domProps:{value:t.entry.value},on:{input:function(e){e.target.composing||t.$set(t.entry,"value",e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"font"}})],1)])]),s("div",{staticClass:"column"},[s("div",{staticClass:"buttons is-grouped is-right"},[s("a",{staticClass:"button is-outlined",attrs:{tabindex:"-1"},on:{click:t.generate}},[s("icon",{attrs:{fa:"cogs"}})],1),s("a",{staticClass:"button is-outlined is-info",attrs:{tabindex:"-1"},on:{click:function(e){t.entry.hidden=!t.entry.hidden}}},[s("icon",{attrs:{fa:t.entry.hidden?"eye-slash":"eye"}})],1),s("a",{staticClass:"button is-outlined is-danger",attrs:{tabindex:"-1"},on:{click:function(e){t.$emit("remove")}}},[s("icon",{attrs:{fa:"minus"}})],1),s("a",{staticClass:"button is-outlined is-success",attrs:{tabindex:"-1"},on:{click:function(e){t.$emit("add")}}},[s("icon",{attrs:{fa:"plus"}})],1)])])])},st=[],at=!1,rt=null,nt=null,it=null,lt=Object(o["a"])(tt,et,st,at,rt,nt,it),ot=lt.exports,ct=s("dl4G"),ut=s.n(ct),dt=s("4ygL"),mt=s.n(dt),pt=s("JPrc"),vt=s.n(pt),ft=s("U8O8"),ht=s.n(ft),Ct=(s("JXnT"),s("seLl")),yt=s.n(Ct),bt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},gt=function(t,e){var s=32,a=ut.a.getBytesSync(32),r=bt(16e3,64e3),n=mt()(t,a,r,s),i=ut.a.getBytesSync(s),l=vt.a.createCipher("AES-CBC",n);l.start({iv:i}),l.update(ht.a.createBuffer(e)),l.finish();var o=l.output.getBytes();return{ciphertext:yt.a.encode(o+i),salt:yt.a.encode(a),iterations:r}},_t=function(t,e,s,a){var r=32,n=yt.a.decode(s),i=yt.a.decode(e),l=i.substring(i.length-r),o=i.substring(0,i.length-r),c=mt()(t,n,a,r),u=vt.a.createDecipher("AES-CBC",c);u.start({iv:l}),u.update(ht.a.createBuffer(o)),u.finish();var d=u.output.toString();return d},kt={components:{Errors:v,Icon:H,Modal:F,CreateRow:ot},data:function(){return{name:"",master:"",masterRepeat:"",entries:[{label:"User",value:"",hidden:!1},{label:"Pass",value:"",hidden:!0}],link:{}}},computed:{nameErrors:function(){var t=[];return this.name.length<1&&t.push("Minimum of 1 character"),t},masterErrors:function(){var t=[];return this.master.length<4&&t.push("Minimum of 4 characters"),t},masterRepeatErrors:function(){var t=[];return this.masterRepeat.length<4&&t.push("Minimum of 4 characters"),this.master!==this.masterRepeat&&t.push("Passwords do not match"),t},errors:function(){var t=this;return["nameErrors","masterErrors","masterRepeatErrors"].some(function(e){return t[e].length})}},methods:{remove:function(t){this.entries.splice(t,1)},add:function(t){this.entries.splice(t,0,{label:"",value:"",hidden:!1})},create:function(){if(this.errors)this.link={};else{var t=this.entries.map(function(t){return{l:t.label,v:t.value,h:t.hidden}});this.link=gt(this.master,JSON.stringify(t)),this.$refs.secret.open()}}}},xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"section"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("Create 'a' Secret")]),s("form",[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"name"}},[t._v("Name")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input",class:{"is-danger":t.nameErrors.length},attrs:{id:"name",type:"text",placeholder:"Secret name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"font"}})],1),t.nameErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.nameErrors}})],1):t._e()]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"master"}},[t._v("Master password")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.master,expression:"master"}],staticClass:"input",class:{"is-danger":t.masterErrors.length},attrs:{id:"master",type:"password",placeholder:"Master password"},domProps:{value:t.master},on:{input:function(e){e.target.composing||(t.master=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"key"}})],1),t.masterErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.masterErrors}})],1):t._e()])]),s("div",{staticClass:"column"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"masterRepeat"}},[t._v("Repeat")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.masterRepeat,expression:"masterRepeat"}],staticClass:"input",class:{"is-danger":t.masterRepeatErrors.length},attrs:{id:"masterRepeat",type:"password",placeholder:"Repeat master password"},domProps:{value:t.masterRepeat},on:{input:function(e){e.target.composing||(t.masterRepeat=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"key"}})],1),t.masterRepeatErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.masterRepeatErrors}})],1):t._e()])])]),s("div",{staticClass:"columns"},[t._m(0),t._m(1),s("div",{staticClass:"column"},[s("div",{staticClass:"buttons is-right"},[s("a",{staticClass:"button is-outlined is-success",attrs:{tabindex:"-1"},on:{click:function(e){t.add(0)}}},[s("icon",{attrs:{fa:"plus"}})],1)])])]),t._l(t.entries,function(e,a){return s("create-row",{key:a,attrs:{entry:e},on:{add:function(e){t.add(a+1)},remove:function(e){t.remove(a)}}})}),s("div",{staticClass:"buttons"},[s("button",{staticClass:"button is-primary",attrs:{disabled:t.errors},on:{click:function(e){return e.preventDefault(),t.create(e)}}},[t._v("Create")])])],2)]),s("modal",{ref:"secret",attrs:{isDialog:!0}},[s("p",{staticClass:"modal-card-title",attrs:{slot:"head"},slot:"head"},[t._v("Secret")]),s("p",[t._v("Your secret is here, you can drag it to your bookmarks")]),s("hr"),s("div",{staticClass:"has-text-centered"},[3===Object.keys(t.link).length?s("router-link",{staticClass:"button is-link is-large",attrs:{to:{name:"unlock",params:t.link}}},[s("icon",{attrs:{fa:"key"}}),s("span",[t._v(t._s(t.name))])],1):t._e()],1)])],1)},Et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-one-third has-text-bottom"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Label")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-two-fifths has-text-bottom"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Value")])])])}];function wt(t){s("/WcT")}var $t=!1,Ot=wt,St="data-v-71b474fb",Rt=null,Nt=Object(o["a"])(kt,xt,Et,$t,Ot,St,Rt),Pt=Nt.exports,Bt=s("TQvf"),It=s.n(Bt),Mt={props:{max:{type:Number,required:!0},start:{type:Number,required:!0},rate:{type:Number,default:100}},data:function(){return{current:0,interval:null}},mounted:function(){this.startTimer()},beforeDestroy:function(){this.clearInterval()},methods:{clearInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){this.interval&&(clearInterval(this.interval),this.interval=null)}),startTimer:function(){var t=this;this.clearInterval(),this.current=this.start,this.interval=setInterval(function(){t.current<=0?(t.clearInterval(),t.$emit("ended")):t.current-=t.rate},this.rate)}}},jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("progress",{attrs:{max:t.max},domProps:{value:t.current}})},Tt=[],Lt=!1,At=null,Dt=null,qt=null,Gt=Object(o["a"])(Mt,jt,Tt,Lt,At,Dt,qt),Ht=Gt.exports,Vt={components:{Icon:H},props:{entry:{type:Object,required:!0}},computed:{representation:function(){return this.entry.hidden?"••••••••":this.entry.value},isHttp:function(){return/^(https?):\/\//.test(this.entry.value)}}},Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v(t._s(t.entry.label))]),s("td",[t.isHttp?s("a",{attrs:{href:t.entry.value,target:"_blank"}},[t._v(t._s(t.representation))]):s("span",[t._v(t._s(t.representation))])]),s("td",[s("a",{staticClass:"button is-outlined is-small copyable",attrs:{"data-clipboard-text":t.entry.value}},[s("icon",{attrs:{fa:"copy"}})],1)])])},Ut=[],Wt=!1,Xt=null,Qt=null,Yt=null,zt=Object(o["a"])(Vt,Jt,Ut,Wt,Xt,Qt,Yt),Ft=zt.exports,Kt={components:{Errors:v,Icon:H,Timer:Ht,ViewRow:Ft},data:function(){return{master:"",isLocked:!0,isInvalid:!1,entries:[],clipboard:null}},computed:{masterErrors:function(){var t=[];return this.master.length<4&&t.push("Minimum of 4 characters"),this.isInvalid&&t.push("Wrong password"),t},errors:function(){var t=this;return["masterErrors"].some(function(e){return t[e].length})}},mounted:function(){this.clipboard=new It.a(".copyable")},beforeDestroy:function(){this.clipboard.destroy()},methods:{unlock:function(){if(!this.errors){var t=this.$route.params,e=t.ciphertext,s=t.salt,a=t.iterations;try{var r=_t(this.master,e,s,a);this.entries=JSON.parse(r).map(function(t){return{label:t.l,value:t.v,hidden:t.h}})}catch(t){return void(this.isInvalid=!0)}this.isLocked=!1}},lock:function(){this.master="",this.isLocked=!0,this.entries=[]},restart:function(){this.$refs.timer.startTimer()}}},Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"section"},[t.isLocked?s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("Unlock 'a' Secret")]),s("h2",{staticClass:"subtitle"},[t._v("You can also create 'a' new one\n"),s("router-link",{attrs:{to:{name:"create"}}},[t._v("here")]),t._v("!")],1),s("form",[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"master"}},[t._v("Master password")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.master,expression:"master"}],staticClass:"input",class:{"is-danger":t.masterErrors.length},attrs:{id:"master",type:"password",placeholder:"Master password",autofocus:""},domProps:{value:t.master},on:{focus:function(e){t.isInvalid=!1},input:function(e){e.target.composing||(t.master=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"key"}})],1),t.masterErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.masterErrors}})],1):t._e()]),s("div",{staticClass:"buttons"},[s("button",{staticClass:"button is-primary",attrs:{disabled:t.errors},on:{click:function(e){return e.preventDefault(),t.unlock(e)}}},[s("icon",{staticClass:"is-left",attrs:{fa:"lock"}}),s("span",[t._v("Unlock")])],1)])])]):s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("View 'a' Secret")]),s("timer",{ref:"timer",staticClass:"progress is-large",attrs:{max:2e4,start:2e4},on:{ended:t.lock},nativeOn:{click:function(e){return t.restart(e)}}}),s("table",{staticClass:"table is-bordered is-striped"},[s("tbody",t._l(t.entries,function(t,e){return s("view-row",{key:e,attrs:{entry:t}})}))])],1)])},te=[],ee=!1,se=null,ae=null,re=null,ne=Object(o["a"])(Kt,Zt,te,ee,se,ae,re),ie=ne.exports;a["a"].use(r["a"]);var le=new r["a"]({routes:[{path:"/",name:"create",component:Pt},{path:"/unlock/:ciphertext/:salt/:iterations",name:"unlock",component:ie}]}),oe=le,ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-view")},ue=[];function de(t){s("G3BA")}var me=null,pe=!1,ve=de,fe=null,he=null,Ce=Object(o["a"])(me,ce,ue,pe,ve,fe,he),ye=Ce.exports;a["a"].config.productionTip=!0,new a["a"]({router:oe,render:function(t){return t(ye)}}).$mount("#app")}},[1]);