webpackJsonp([1],{0:function(t,e){},1:function(t,e,s){t.exports=s("NHnr")},G3BA:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("/5sW"),a=s("/ocq"),n=(s("EuXz"),{name:"Errors",props:{errors:Array}}),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",t._l(t.errors,function(e){return s("li",[t._v(t._s(e))])}))},l=[],o=s("XyMi"),c=!1,u=null,d=null,p=null,m=Object(o["a"])(n,i,l,c,u,d,p),v=m.exports,f=s("QxPg"),h=s("N3XP"),y=s.n(h),b=s("nCDS"),g=s.n(b),C=s("iK9v"),_=s.n(C),k=s("Li6P"),x=s.n(k),E=s("F4Gy"),w=s.n(E),$=s("7vl2"),N=s.n($),O=s("3pTt"),P=s.n(O),S=s("+tGi"),R=s.n(S),I=s("aHro"),M=s.n(I);f["a"].config.keepOriginalSource=!1,f["a"].library.add(y.a,g.a,_.a,x.a,w.a,N.a,P.a,R.a,M.a);var j={props:{family:{type:String,default:"fas"},fa:String},computed:{icon:function(){return'<i class="'.concat(this.family," fa-").concat(this.fa,'"></i>')}}},A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon",domProps:{innerHTML:t._s(t.icon)}})},B=[],L=!1,T=null,D=null,H=null,q=Object(o["a"])(j,A,B,L,T,D,H),G=q.exports,J={props:{entry:Object},methods:{generate:function(){this.entry.value="generated"}},components:{Icon:G}},V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-one-third"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.label,expression:"entry.label"}],staticClass:"input",attrs:{type:"text",placeholder:"Label"},domProps:{value:t.entry.label},on:{input:function(e){e.target.composing||t.$set(t.entry,"label",e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"font"}})],1)])]),s("div",{staticClass:"column is-two-fifths"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control has-icons-left"},["checkbox"===(t.entry.hidden?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.value,expression:"entry.value"}],staticClass:"input",attrs:{placeholder:"Value",type:"checkbox"},domProps:{checked:Array.isArray(t.entry.value)?t._i(t.entry.value,null)>-1:t.entry.value},on:{change:function(e){var s=t.entry.value,r=e.target,a=!!r.checked;if(Array.isArray(s)){var n=null,i=t._i(s,n);r.checked?i<0&&t.$set(t.entry,"value",s.concat([n])):i>-1&&t.$set(t.entry,"value",s.slice(0,i).concat(s.slice(i+1)))}else t.$set(t.entry,"value",a)}}}):"radio"===(t.entry.hidden?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.value,expression:"entry.value"}],staticClass:"input",attrs:{placeholder:"Value",type:"radio"},domProps:{checked:t._q(t.entry.value,null)},on:{change:function(e){t.$set(t.entry,"value",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.value,expression:"entry.value"}],staticClass:"input",attrs:{placeholder:"Value",type:t.entry.hidden?"password":"text"},domProps:{value:t.entry.value},on:{input:function(e){e.target.composing||t.$set(t.entry,"value",e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"font"}})],1)])]),s("div",{staticClass:"column"},[s("div",{staticClass:"buttons is-grouped is-right"},[s("a",{staticClass:"button is-outlined",attrs:{tabindex:"-1"},on:{click:t.generate}},[s("icon",{attrs:{fa:"cogs"}})],1),s("a",{staticClass:"button is-outlined is-info",attrs:{tabindex:"-1"},on:{click:function(e){t.entry.hidden=!t.entry.hidden}}},[s("icon",{attrs:{fa:t.entry.hidden?"eye-slash":"eye"}})],1),s("a",{staticClass:"button is-outlined is-danger",attrs:{tabindex:"-1"},on:{click:function(e){t.$emit("remove")}}},[s("icon",{attrs:{fa:"minus"}})],1),s("a",{staticClass:"button is-outlined is-success",attrs:{tabindex:"-1"},on:{click:function(e){t.$emit("add")}}},[s("icon",{attrs:{fa:"plus"}})],1)])])])},U=[],X=!1,z=null,Q=null,W=null,F=Object(o["a"])(J,V,U,X,z,Q,W),K=F.exports,Y=s("dl4G"),Z=s.n(Y),tt=s("4ygL"),et=s.n(tt),st=s("JPrc"),rt=s.n(st),at=s("U8O8"),nt=s.n(at),it=(s("JXnT"),s("seLl")),lt=s.n(it),ot=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},ct=function(t,e){var s=32,r=Z.a.getBytesSync(32),a=ot(16e3,64e3),n=et()(t,r,a,s),i=Z.a.getBytesSync(s),l=rt.a.createCipher("AES-CBC",n);l.start({iv:i}),l.update(nt.a.createBuffer(e)),l.finish();var o=l.output.getBytes();return{ciphertext:lt.a.encode(o+i),salt:lt.a.encode(r),iterations:a}},ut=function(t,e,s,r){var a=32,n=lt.a.decode(s),i=lt.a.decode(e),l=i.substring(i.length-a),o=i.substring(0,i.length-a),c=et()(t,n,r,a),u=rt.a.createDecipher("AES-CBC",c);u.start({iv:l}),u.update(nt.a.createBuffer(o)),u.finish();var d=u.output.toString();return d},dt={data:function(){return{name:"",master:"",masterRepeat:"",entries:[{label:"User",value:"",hidden:!1},{label:"Pass",value:"",hidden:!0}],link:{}}},computed:{nameErrors:function(){var t=[];return this.name.length<1&&t.push("Minimum of 1 character"),t},masterErrors:function(){var t=[];return this.master.length<4&&t.push("Minimum of 4 characters"),t},masterRepeatErrors:function(){var t=[];return this.masterRepeat.length<4&&t.push("Minimum of 4 characters"),this.master!==this.masterRepeat&&t.push("Passwords do not match"),t},errors:function(){var t=this;return["nameErrors","masterErrors","masterRepeatErrors"].some(function(e){return t[e].length})}},methods:{remove:function(t){this.entries.splice(t,1)},add:function(t){this.entries.splice(t,0,{label:"",value:"",hidden:!1})},create:function(){if(this.errors)this.link={};else{var t=this.entries.map(function(t){return{l:t.label,v:t.value,h:t.hidden}});this.link=ct(this.master,JSON.stringify(t))}}},components:{Errors:v,Icon:G,CreateRow:K}},pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"section"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("Create 'a' Secret")]),s("form",[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Name")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input",class:{"is-danger":t.nameErrors.length},attrs:{type:"text",placeholder:"Secret name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"font"}})],1),t.nameErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.nameErrors}})],1):t._e()]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Master password")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.master,expression:"master"}],staticClass:"input",class:{"is-danger":t.masterErrors.length},attrs:{type:"password",placeholder:"Master password"},domProps:{value:t.master},on:{input:function(e){e.target.composing||(t.master=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"key"}})],1),t.masterErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.masterErrors}})],1):t._e()])]),s("div",{staticClass:"column"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Repeat")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.masterRepeat,expression:"masterRepeat"}],staticClass:"input",class:{"is-danger":t.masterRepeatErrors.length},attrs:{type:"password",placeholder:"Repeat master password"},domProps:{value:t.masterRepeat},on:{input:function(e){e.target.composing||(t.masterRepeat=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"key"}})],1),t.masterRepeatErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.masterRepeatErrors}})],1):t._e()])])]),s("div",{staticClass:"buttons is-right"},[s("a",{staticClass:"button is-outlined is-success",attrs:{tabindex:"-1"},on:{click:function(e){t.add(0)}}},[s("icon",{attrs:{fa:"plus"}})],1)]),t._l(t.entries,function(e,r){return s("create-row",{key:r,attrs:{entry:e},on:{add:function(e){t.add(r+1)},remove:function(e){t.remove(r)}}})}),s("div",{staticClass:"buttons"},[s("button",{staticClass:"button is-primary",attrs:{disabled:t.errors},on:{click:function(e){return e.preventDefault(),t.create(e)}}},[t._v("Create")])]),3===Object.keys(t.link).length?s("div",[s("div",{staticClass:"has-text-weight-semibold"},[t._v("Your secret is here, you can drag it to your bookmarks")]),s("div",[s("router-link",{staticClass:"is-size-4",attrs:{to:{name:"unlock",params:t.link}}},[t._v(t._s(t.name))])],1)]):t._e()],2)])])},mt=[],vt=!1,ft=null,ht=null,yt=null,bt=Object(o["a"])(dt,pt,mt,vt,ft,ht,yt),gt=bt.exports,Ct=s("TQvf"),_t=s.n(Ct),kt={data:function(){return{current:0,interval:null}},props:{max:{type:Number,required:!0},start:{type:Number,required:!0},rate:{type:Number,default:100}},methods:{clearInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){this.interval&&(clearInterval(this.interval),this.interval=null)}),startTimer:function(){var t=this;this.clearInterval(),this.current=this.start,this.interval=setInterval(function(){t.current<=0?(t.clearInterval(),t.$emit("ended")):t.current-=t.rate},this.rate)}},mounted:function(){this.startTimer()},beforeDestroy:function(){this.clearInterval()}},xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("progress",{attrs:{max:t.max},domProps:{value:t.current}})},Et=[],wt=!1,$t=null,Nt=null,Ot=null,Pt=Object(o["a"])(kt,xt,Et,wt,$t,Nt,Ot),St=Pt.exports,Rt={props:{entry:{type:Object,required:!0}},computed:{representation:function(){return this.entry.hidden?"&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;":this.entry.value},isHttp:function(){return/^(https?):\/\//.test(this.entry.value)}},components:{Icon:G}},It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v(t._s(t.entry.label))]),s("td",[t.isHttp?s("a",{attrs:{href:t.entry.value,target:"_blank"}},[t._v(t._s(t.representation))]):s("span",[t._v(t._s(t.representation))])]),s("td",[s("a",{staticClass:"button is-outlined is-small copyable",attrs:{"data-clipboard-text":t.entry.value}},[s("icon",{attrs:{fa:"copy"}})],1)])])},Mt=[],jt=!1,At=null,Bt=null,Lt=null,Tt=Object(o["a"])(Rt,It,Mt,jt,At,Bt,Lt),Dt=Tt.exports,Ht={data:function(){return{master:"",isLocked:!0,isInvalid:!1,entries:[],clipboard:null}},computed:{masterErrors:function(){var t=[];return this.master.length<4&&t.push("Minimum of 4 characters"),this.isInvalid&&t.push("Wrong password"),t},errors:function(){var t=this;return["masterErrors"].some(function(e){return t[e].length})}},methods:{unlock:function(){if(!this.errors){var t=this.$route.params,e=t.ciphertext,s=t.salt,r=t.iterations;try{var a=ut(this.master,e,s,r);this.entries=JSON.parse(a).map(function(t){return{label:t.l,value:t.v,hidden:t.h}})}catch(t){return void(this.isInvalid=!0)}this.isLocked=!1}},lock:function(){this.master="",this.isLocked=!0,this.entries=[]},restart:function(){this.$refs.timer.startTimer()}},mounted:function(){this.clipboard=new _t.a(".copyable")},beforeDestroy:function(){this.clipboard.destroy()},components:{Errors:v,Icon:G,Timer:St,ViewRow:Dt}},qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"section"},[t.isLocked?s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("Unlock 'a' Secret")]),s("form",[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Master password")]),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.master,expression:"master"}],staticClass:"input",class:{"is-danger":t.masterErrors.length},attrs:{type:"password",placeholder:"Master password",autofocus:""},domProps:{value:t.master},on:{focus:function(e){t.isInvalid=!1},input:function(e){e.target.composing||(t.master=e.target.value)}}}),s("icon",{staticClass:"is-left",attrs:{fa:"key"}})],1),t.masterErrors.length?s("div",{staticClass:"help is-danger"},[s("Errors",{attrs:{errors:t.masterErrors}})],1):t._e()]),s("div",{staticClass:"buttons"},[s("button",{staticClass:"button is-primary",attrs:{disabled:t.errors},on:{click:function(e){return e.preventDefault(),t.unlock(e)}}},[s("icon",{staticClass:"is-left",attrs:{fa:"lock"}}),s("span",[t._v("Unlock")])],1)])])]):s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("View 'a' Secret")]),s("timer",{ref:"timer",staticClass:"progress is-large",attrs:{max:2e4,start:2e4},on:{ended:t.lock},nativeOn:{click:function(e){return t.restart(e)}}}),s("table",{staticClass:"table is-bordered is-striped"},[s("tbody",t._l(t.entries,function(t,e){return s("view-row",{key:e,attrs:{entry:t}})}))])],1)])},Gt=[],Jt=!1,Vt=null,Ut=null,Xt=null,zt=Object(o["a"])(Ht,qt,Gt,Jt,Vt,Ut,Xt),Qt=zt.exports;r["a"].use(a["a"]);var Wt=new a["a"]({routes:[{path:"/",name:"create",component:gt},{path:"/unlock/:ciphertext/:salt/:iterations",name:"unlock",component:Qt}]}),Ft=Wt,Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-view")},Yt=[];function Zt(t){s("G3BA")}var te=null,ee=!1,se=Zt,re=null,ae=null,ne=Object(o["a"])(te,Kt,Yt,ee,se,re,ae),ie=ne.exports;r["a"].config.productionTip=!0,new r["a"]({router:Ft,render:function(t){return t(ie)}}).$mount("#app")}},[1]);